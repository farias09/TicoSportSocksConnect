@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<!doctype html>
<html lang="en">

<head>

    <meta charset="utf-8" />
    <title>Control de Cajas | Clivax - Admin & Dashboard Template</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta content="Premium Multipurpose Admin & Dashboard Template" name="description" />
    <meta content="Codebucks" name="author" />
    <!-- App favicon -->
    <link rel="shortcut icon" href="~/images/favicon.ico">

    <!-- dark layout js -->
    <script src="~/js/pages/layout.js"></script>
    <link rel="stylesheet" href="~/css/bootstrap.css" />
    <link rel="stylesheet" href="~/css/app.css" />
    <link rel="stylesheet" href="~/css/icons.css" />

</head>

<body>

    <!-- Begin page -->
    <div id="layout-wrapper">
        <div class="container mt-4">
            <!-- Encabezado principal -->
            <div class="text-center mb-4">
                <h1>Control de Cajas</h1>
                <p class="text-muted">Gestiona la apertura, movimientos y cierre de las cajas</p>
            </div>

            <!-- Información de la caja actual -->
            <div class="card mb-4">
                <div class="card-body d-flex justify-content-between align-items-center">
                    <div>
                        <h4 class="mb-1">Estado de la Caja: <span class="text-success">Abierta</span></h4>
                        <p class="mb-0">Última actualización: 01/12/2024 14:30</p>
                    </div>
                    <h4>Saldo Actual: <span class="text-primary">₡150,000</span></h4>
                </div>
            </div>

            <!-- Opciones principales -->
            <div class="row">
                <!-- Apertura de caja -->
                <div class="col-md-4">
                    <div class="card text-center">
                        <div class="card-body d-flex flex-column justify-content-center" style="height: 187px;">
                            <h5>Apertura de Caja</h5>
                            <p class="text-muted">Abre una nueva caja para iniciar operaciones</p>
                            <button class="btn btn-primary btn-lg w-100" data-bs-toggle="modal" data-bs-target="#abrirCajaModal">Abrir Caja</button>
                        </div>
                    </div>
                </div>

                <!-- Modal para Apertura de Caja -->
                <div class="modal fade" id="abrirCajaModal" tabindex="-1" aria-labelledby="abrirCajaModalLabel" aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="abrirCajaModalLabel">Abrir Caja</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <form id="abrirCajaForm">
                                    <div class="mb-3">
                                        <label for="montoInicial" class="form-label">Monto Inicial</label>
                                        <input type="number" class="form-control" id="montoInicial" placeholder="Ingrese el monto inicial" required>
                                    </div>
                                </form>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                                <button type="button" class="btn btn-primary" id="confirmarApertura">Abrir Caja</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Registrar movimientos -->
                <div class="col-md-4">
                    <div class="card text-center">
                        <div class="card-body d-flex flex-column justify-content-center">
                            <h5>Registrar Movimientos</h5>
                            <p class="text-muted">Registra ingresos o salidas de la caja</p>
                            <button class="btn btn-success btn-lg w-100 mb-2" data-bs-toggle="modal" data-bs-target="#registrarIngresoModal">Registrar Ingreso</button>
                            <button class="btn btn-danger btn-lg w-100" data-bs-toggle="modal" data-bs-target="#registrarSalidaModal">Registrar Salida</button>
                        </div>
                    </div>
                </div>

                <!-- Modal para Registrar Ingreso -->
                <div class="modal fade" id="registrarIngresoModal" tabindex="-1" aria-labelledby="registrarIngresoModalLabel" aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="registrarIngresoModalLabel">Registrar Ingreso</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <form>
                                    <div class="mb-3">
                                        <label for="montoIngreso" class="form-label">Monto</label>
                                        <input type="number" class="form-control" id="montoIngreso" placeholder="Ingrese el monto del ingreso" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="motivoIngreso" class="form-label">Motivo</label>
                                        <textarea class="form-control" id="motivoIngreso" rows="3" placeholder="Ingrese el motivo del ingreso" required></textarea>
                                    </div>
                                </form>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                                <button type="button" class="btn btn-success">Registrar</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Modal para Registrar Salida -->
                <div class="modal fade" id="registrarSalidaModal" tabindex="-1" aria-labelledby="registrarSalidaModalLabel" aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="registrarSalidaModalLabel">Registrar Salida</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <form>
                                    <div class="mb-3">
                                        <label for="montoSalida" class="form-label">Monto</label>
                                        <input type="number" class="form-control" id="montoSalida" placeholder="Ingrese el monto de la salida" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="motivoSalida" class="form-label">Motivo</label>
                                        <textarea class="form-control" id="motivoSalida" rows="3" placeholder="Ingrese el motivo de la salida" required></textarea>
                                    </div>
                                </form>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                                <button type="button" class="btn btn-danger">Registrar</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Cierre de caja -->
                <div class="col-md-4">
                    <div class="card text-center">
                        <div class="card-body d-flex flex-column justify-content-center" style="height: 187px;">
                            <h5>Cierre de Caja</h5>
                            <p class="text-muted">Cierra la caja y genera un resumen del día</p>
                            <button class="btn btn-warning btn-lg w-100" data-bs-toggle="modal" data-bs-target="#cerrarCajaModal">Cerrar Caja</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Modal para Cerrar Caja -->
            <div class="modal fade" id="cerrarCajaModal" tabindex="-1" aria-labelledby="cerrarCajaModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="cerrarCajaModalLabel">Cerrar Caja</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <form>
                                <div class="mb-3">
                                    <label for="montoCierre" class="form-label">Monto Final</label>
                                    <input type="number" class="form-control" id="montoCierre" placeholder="Ingrese el monto final de la caja" required>
                                </div>
                            </form>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                            <button type="button" class="btn btn-warning" data-bs-toggle="modal" data-bs-target="#resumenCajaModal" data-bs-dismiss="modal">Cerrar Caja</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Modal de Resumen de Movimientos -->
            <div class="modal fade" id="resumenCajaModal" tabindex="-1" aria-labelledby="resumenCajaModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="resumenCajaModalLabel">Resumen de Movimientos del Día</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <table class="table table-bordered">
                                <thead class="table-light">
                                    <tr>
                                        <th>Concepto</th>
                                        <th>Monto</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Monto Inicial</td>
                                        <td>₡150,000</td>
                                    </tr>
                                    <tr>
                                        <td>Monto Final</td>
                                        <td>₡200,000</td>
                                    </tr>
                                    <tr>
                                        <td>Total Ingresos</td>
                                        <td>₡70,000</td>
                                    </tr>
                                    <tr>
                                        <td>Total Salidas</td>
                                        <td>₡20,000</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Aceptar</button>
                            <button type="button" class="btn btn-secondary" data-bs-toggle="modal" data-bs-target="#cerrarCajaModal" data-bs-dismiss="modal">Volver a Cerrar Caja</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Historial de movimientos y reportes -->
            <div class="row mt-4">
                <!-- Historial de movimientos -->
                <div class="col-md-6">
                    <div class="card">
                        <div class="card-body">
                            <h5>Historial de Movimientos</h5>
                            <p class="text-muted">Consulta todos los movimientos registrados</p>
                            <button class="btn btn-success btn-lg w-100" data-bs-toggle="modal" data-bs-target="#verHistorialModal">Ver Historial</button>
                        </div>
                    </div>
                </div>

                <!-- Modal para Ver Historial -->
                <div class="modal fade" id="verHistorialModal" tabindex="-1" aria-labelledby="verHistorialModalLabel" aria-hidden="true">
                    <div class="modal-dialog modal-lg">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="verHistorialModalLabel">Historial de Movimientos del Día</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body" style="max-height: 400px; overflow-y: auto;">
                                <table class="table table-striped">
                                    <thead class="table-light">
                                        <tr>
                                            <th>Hora</th>
                                            <th>Tipo</th>
                                            <th>Monto</th>
                                            <th>Motivo</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>08:30 AM</td>
                                            <td>Ingreso</td>
                                            <td>₡30,000</td>
                                            <td>Venta de productos</td>
                                        </tr>
                                        <tr>
                                            <td>10:15 AM</td>
                                            <td>Salida</td>
                                            <td>₡5,000</td>
                                            <td>Compra de materiales</td>
                                        </tr>
                                        <tr>
                                            <td>12:00 PM</td>
                                            <td>Ingreso</td>
                                            <td>₡40,000</td>
                                            <td>Pago de servicios</td>
                                        </tr>
                                        <tr>
                                            <td>02:45 PM</td>
                                            <td>Salida</td>
                                            <td>₡10,000</td>
                                            <td>Gastos de transporte</td>
                                        </tr>
                                        <tr>
                                            <td>04:00 PM</td>
                                            <td>Ingreso</td>
                                            <td>₡20,000</td>
                                            <td>Venta adicional</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Cerrar</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Reportes -->
                <div class="col-md-6">
                    <div class="card">
                        <div class="card-body">
                            <h5>Reportes</h5>
                            <p class="text-muted">Genera reportes detallados de la caja</p>
                            <button class="btn btn-success btn-lg w-100" data-bs-toggle="modal" data-bs-target="#reportesModal">Generar Reportes</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal para Generar Reportes -->
    <div class="modal fade" id="reportesModal" tabindex="-1" aria-labelledby="reportesModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="reportesModalLabel">Reportes de Rendimiento del Día</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <!-- Gráfico 1 -->
                        <div class="col-md-6 mb-4">
                            <canvas id="grafico1"></canvas>
                        </div>
                        <!-- Gráfico 2 -->
                        <div class="col-md-6 mb-4">
                            <canvas id="grafico2"></canvas>
                        </div>
                        <!-- Gráfico 3 -->
                        <div class="col-md-6">
                            <canvas id="grafico3"></canvas>
                        </div>
                        <!-- Gráfico 4 -->
                        <div class="col-md-6">
                            <canvas id="grafico4"></canvas>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- JAVASCRIPT -->
    <script src="~/libs/jquery/jquery.min.js"></script>
    <script src="~/libs/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="~/libs/metismenu/metisMenu.min.js"></script>
    <script src="~/libs/simplebar/simplebar.min.js"></script>
    <script src="~/libs/node-waves/waves.min.js"></script>

    <script src="~/js/app.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        // Gráfico 1: Ingresos vs. Salidas
        new Chart(document.getElementById('grafico1'), {
            type: 'bar',
            data: {
                labels: ['Ingresos', 'Salidas'],
                datasets: [{
                    label: 'Monto (₡)',
                    data: [70000, 20000],
                    backgroundColor: ['#4CAF50', '#F44336']
                }]
            }
        });

        // Gráfico 2: Movimientos por Hora
        new Chart(document.getElementById('grafico2'), {
            type: 'line',
            data: {
                labels: ['8 AM', '10 AM', '12 PM', '2 PM', '4 PM'],
                datasets: [{
                    label: 'Movimientos',
                    data: [2, 1, 3, 1, 2],
                    borderColor: '#FF9800',
                    fill: false
                }]
            }
        });

        // Gráfico 3: Distribución de Motivos (Pie Chart)
        new Chart(document.getElementById('grafico3'), {
            type: 'pie',
            data: {
                labels: ['Ventas', 'Compras', 'Gastos Operativos'],
                datasets: [{
                    data: [60, 25, 15],
                    backgroundColor: ['#2196F3', '#9C27B0', '#FFC107']
                }]
            }
        });

        // Gráfico 4: Saldo por Hora
        new Chart(document.getElementById('grafico4'), {
            type: 'line',
            data: {
                labels: ['8 AM', '10 AM', '12 PM', '2 PM', '4 PM'],
                datasets: [{
                    label: 'Saldo (₡)',
                    data: [150000, 155000, 195000, 185000, 205000],
                    borderColor: '#4CAF50',
                    fill: false
                }]
            }
        });
    </script>

</body>

</html></html>